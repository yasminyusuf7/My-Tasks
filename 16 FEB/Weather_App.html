<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather App</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; padding-top: 50px; background: #eef2f3; }
        .card { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 300px; text-align: center; }
        input { padding: 10px; width: 80%; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 5px; }
        button { padding: 10px 20px; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 5px; }
        #display { margin-top: 20px; font-weight: bold; min-height: 24px; }
        .loading { color: orange; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>

    <div class="card">
        <h2>Weather Finder</h2>
        <input type="text" id="cityInput" placeholder="Enter city (e.g. Paris)">
        <button onclick="handleWeatherSearch()">Check Weather</button>
        <div id="display"></div>
    </div>

    <script>
        const display = document.getElementById('display');
        const cityInput = document.getElementById('cityInput');

        // 1. The Promise-based function
        function fetchWeatherData(city) {
            return new Promise((resolve, reject) => {
                
                display.innerText = "Loading...";
                display.className = "loading";

                setTimeout(() => {
                    if (city.toLowerCase() === "paris") {
                        resolve("☀️ Success: It is 22°C in Paris!");
                    } else {
                        reject("❌ Error: City not found.");
                    }
                }, 2000); // 2-second 
            });
        }

        // 2. The async/await function with try/catch
        async function handleWeatherSearch() {
            const cityName = cityInput.value.trim();

            if (!cityName) {
                display.innerText = "Please enter a city name";
                display.className = "error";
                return;
            }

            try {
                // Wait for the promise to resolve
                const result = await fetchWeatherData(cityName);
                
                // successful:
                display.innerText = result;
                display.className = "success";
            } catch (error) {
                //rejects:
                display.innerText = error;
                display.className = "error";
            }
        }
    </script>
</body>
</html>